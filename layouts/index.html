{{ define "main" }}
<article class="text-center">{{ .Content }}</article>

{{/* Define a section to pull recent posts from. For Hugo 0.20 this will default
to the section with the most number of pages. */}}
{{ $mainSections := site.Params.mainSections | default (slice "post") }}
{{ $section := where $.Site.RegularPages "Section" "in" $mainSections }}
{{ $section_count := len $section }}
{{ if ge $section_count 1 }}
  <div class="mx-auto w-full p-3 lg:w-7/10 lg:p-4">
    {{ $n_posts := $.Param "recent_posts_number" | default 3 }}

    <section class="w-full max-w-5xl">
      {{/* Range through the first $n_posts items of the section */}} {{ range
      (first $n_posts $section) }}
      <div class="relative mb-4 w-full">{{ .Render "summary-with-image" }}</div>
      {{ end }}
    </section>
  </div>
{{ end }} {{ end }}
